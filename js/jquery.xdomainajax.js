jQuery.ajax=function(t){function e(t){return!c.test(t)&&/:\/\//.test(t)}var s=location.protocol,a=location.hostname,c=RegExp(s+"//"+a),r="http"+(/^https/.test(s)?"s":"")+"://query.yahooapis.com/v1/public/yql?callback=?",o='select * from html where url="{URL}" and xpath="*"';return function(s){var a=s.url;return/get/i.test(s.type)&&!/json/i.test(s.dataType)&&e(a)&&(s.url=r,s.dataType="json",s.data={q:o.replace("{URL}",a+(s.data?(/\?/.test(a)?"&":"?")+jQuery.param(s.data):"")),format:"xml"},!s.success&&s.complete&&(s.success=s.complete,delete s.complete),s.success=function(t){return function(e){t&&t.call(this,{responseText:(e.results[0]||"").replace(/<script[^>]+?\/>|<script(.|\s)*?\/script>/gi,"")},"success")}}(s.success),console.log(s)),t.apply(this,arguments)}}(jQuery.ajax);